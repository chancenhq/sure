<% companion_path = if defined?(@chat) && @chat.present?
    chat_path(@chat)
  else
    chats_path
  end %>

<div class="max-w-xl mx-auto space-y-8 py-6">
  <section class="space-y-4 relative">
    <h1 class="text-2xl font-semibold text-primary">Budget Analyser Preview</h1>
    <div class="absolute top-0 right-0">
      <div class="inline-flex items-center gap-1 rounded-full bg-container border border-tertiary px-2 py-1 text-xs font-medium text-primary shadow-sm">
        <span>Coming Soon!</span>
      </div>
    </div>
    <p class="text-base text-secondary">
      See how average students in Nairobi spend their money.
    </p>
  </section>

<div data-controller="sankey-chart" data-sankey-chart-data-value="{&quot;nodes&quot;:[{&quot;name&quot;:&quot;Cash Flow&quot;,&quot;value&quot;:122241.0,&quot;percentage&quot;:100.0,&quot;color&quot;:&quot;var(--color-success)&quot;},{&quot;name&quot;:&quot;Side Hustle&quot;,&quot;value&quot;:10879.0,&quot;percentage&quot;:8.9,&quot;color&quot;:&quot;#16a34a&quot;},{&quot;name&quot;:&quot;Savings/allowance&quot;,&quot;value&quot;:72334.0,&quot;percentage&quot;:59.2,&quot;color&quot;:&quot;#15803d&quot;},{&quot;name&quot;:&quot;Transfers&quot;,&quot;value&quot;:39028.0,&quot;percentage&quot;:31.9,&quot;color&quot;:&quot;#737373&quot;},{&quot;name&quot;:&quot;Health&quot;,&quot;value&quot;:3168.0,&quot;percentage&quot;:2.9,&quot;color&quot;:&quot;#db2777&quot;},{&quot;name&quot;:&quot;Communication&quot;,&quot;value&quot;:5038.0,&quot;percentage&quot;:4.5,&quot;color&quot;:&quot;#0891b2&quot;},{&quot;name&quot;:&quot;Family Support&quot;,&quot;value&quot;:5515.0,&quot;percentage&quot;:5.0,&quot;color&quot;:&quot;#facc15&quot;},{&quot;name&quot;:&quot;Housing&quot;,&quot;value&quot;:25492.0,&quot;percentage&quot;:22.9,&quot;color&quot;:&quot;#ef4444&quot;},{&quot;name&quot;:&quot;Food \u0026 Markets&quot;,&quot;value&quot;:28004.0,&quot;percentage&quot;:25.2,&quot;color&quot;:&quot;#f97316&quot;},{&quot;name&quot;:&quot;Transport&quot;,&quot;value&quot;:2740.0,&quot;percentage&quot;:2.5,&quot;color&quot;:&quot;#2563eb&quot;},{&quot;name&quot;:&quot;Transfers&quot;,&quot;value&quot;:41188.0,&quot;percentage&quot;:37.1,&quot;color&quot;:&quot;#737373&quot;},{&quot;name&quot;:&quot;Uncategorized&quot;,&quot;value&quot;:11096.0,&quot;percentage&quot;:9.1,&quot;color&quot;:&quot;var(--color-success)&quot;}],&quot;links&quot;:[{&quot;source&quot;:1,&quot;target&quot;:0,&quot;value&quot;:10879.0,&quot;color&quot;:&quot;#16a34a&quot;,&quot;percentage&quot;:8.9},{&quot;source&quot;:2,&quot;target&quot;:0,&quot;value&quot;:72334.0,&quot;color&quot;:&quot;#15803d&quot;,&quot;percentage&quot;:59.2},{&quot;source&quot;:3,&quot;target&quot;:0,&quot;value&quot;:39028.0,&quot;color&quot;:&quot;#737373&quot;,&quot;percentage&quot;:31.9},{&quot;source&quot;:0,&quot;target&quot;:4,&quot;value&quot;:3168.0,&quot;color&quot;:&quot;#db2777&quot;,&quot;percentage&quot;:2.9},{&quot;source&quot;:0,&quot;target&quot;:5,&quot;value&quot;:5038.0,&quot;color&quot;:&quot;#0891b2&quot;,&quot;percentage&quot;:4.5},{&quot;source&quot;:0,&quot;target&quot;:6,&quot;value&quot;:5515.0,&quot;color&quot;:&quot;#facc15&quot;,&quot;percentage&quot;:5.0},{&quot;source&quot;:0,&quot;target&quot;:7,&quot;value&quot;:25492.0,&quot;color&quot;:&quot;#ef4444&quot;,&quot;percentage&quot;:22.9},{&quot;source&quot;:0,&quot;target&quot;:8,&quot;value&quot;:28004.0,&quot;color&quot;:&quot;#f97316&quot;,&quot;percentage&quot;:25.2},{&quot;source&quot;:0,&quot;target&quot;:9,&quot;value&quot;:2740.0,&quot;color&quot;:&quot;#2563eb&quot;,&quot;percentage&quot;:2.5},{&quot;source&quot;:0,&quot;target&quot;:10,&quot;value&quot;:41188.0,&quot;color&quot;:&quot;#737373&quot;,&quot;percentage&quot;:37.1},{&quot;source&quot;:0,&quot;target&quot;:11,&quot;value&quot;:11096.0,&quot;color&quot;:&quot;var(--color-success)&quot;,&quot;percentage&quot;:9.1}],&quot;currency_symbol&quot;:&quot;KSh&quot;}" data-sankey-chart-currency-symbol-value="KSh" class="w-full h-full"><svg width="388" height="384"><defs><linearGradient id="link-gradient-1-0-0" gradientUnits="userSpaceOnUse" x1="31" x2="186.5"><stop offset="0%" stop-color="rgba(22, 163, 74, 0.1)"></stop><stop offset="100%" stop-color="rgba(16, 168, 97, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-2-0-1" gradientUnits="userSpaceOnUse" x1="31" x2="186.5"><stop offset="0%" stop-color="rgba(21, 128, 61, 0.1)"></stop><stop offset="100%" stop-color="rgba(16, 168, 97, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-3-0-2" gradientUnits="userSpaceOnUse" x1="31" x2="186.5"><stop offset="0%" stop-color="rgba(115, 115, 115, 0.1)"></stop><stop offset="100%" stop-color="rgba(16, 168, 97, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-0-4-3" gradientUnits="userSpaceOnUse" x1="201.5" x2="357"><stop offset="0%" stop-color="rgba(16, 168, 97, 0.1)"></stop><stop offset="100%" stop-color="rgba(219, 39, 119, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-0-5-4" gradientUnits="userSpaceOnUse" x1="201.5" x2="357"><stop offset="0%" stop-color="rgba(16, 168, 97, 0.1)"></stop><stop offset="100%" stop-color="rgba(8, 145, 178, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-0-6-5" gradientUnits="userSpaceOnUse" x1="201.5" x2="357"><stop offset="0%" stop-color="rgba(16, 168, 97, 0.1)"></stop><stop offset="100%" stop-color="rgba(250, 204, 21, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-0-7-6" gradientUnits="userSpaceOnUse" x1="201.5" x2="357"><stop offset="0%" stop-color="rgba(16, 168, 97, 0.1)"></stop><stop offset="100%" stop-color="rgba(239, 68, 68, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-0-8-7" gradientUnits="userSpaceOnUse" x1="201.5" x2="357"><stop offset="0%" stop-color="rgba(16, 168, 97, 0.1)"></stop><stop offset="100%" stop-color="rgba(249, 115, 22, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-0-9-8" gradientUnits="userSpaceOnUse" x1="201.5" x2="357"><stop offset="0%" stop-color="rgba(16, 168, 97, 0.1)"></stop><stop offset="100%" stop-color="rgba(37, 99, 235, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-0-10-9" gradientUnits="userSpaceOnUse" x1="201.5" x2="357"><stop offset="0%" stop-color="rgba(16, 168, 97, 0.1)"></stop><stop offset="100%" stop-color="rgba(115, 115, 115, 0.1)"></stop></linearGradient><linearGradient id="link-gradient-0-11-10" gradientUnits="userSpaceOnUse" x1="201.5" x2="357"><stop offset="0%" stop-color="rgba(16, 168, 97, 0.1)"></stop><stop offset="100%" stop-color="rgba(16, 168, 97, 0.1)"></stop></linearGradient></defs><g fill="none"><path class="sankey-link" d="M31,125.43361065436311C108.75,125.43361065436311,108.75,150.2957776431465,186.5,150.2957776431465" stroke="url(#link-gradient-1-0-0)" stroke-width="18.867221308726204" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M31,217.59089012688048C108.75,217.59089012688048,108.75,222.4530571156639,186.5,222.4530571156639" stroke="url(#link-gradient-2-0-1)" stroke-width="125.4473376363086" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M31,334.1572794725174C108.75,334.1572794725174,108.75,319.0194464613008,186.5,319.0194464613008" stroke="url(#link-gradient-3-0-2)" stroke-width="67.6854410549652" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M201.5,143.60926493464444C279.25,143.60926493464444,279.25,18.747097945861057,357,18.747097945861057" stroke="url(#link-gradient-0-4-3)" stroke-width="5.494195891722089" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M201.5,150.72501169718728C279.25,150.72501169718728,279.25,45.8628447084039,357,45.8628447084039" stroke="url(#link-gradient-0-5-4)" stroke-width="8.737297633363601" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M201.5,159.87593487353564C279.25,159.87593487353564,279.25,75.01376788475226,357,75.01376788475226" stroke="url(#link-gradient-0-6-5)" stroke-width="9.564548719333121" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M201.5,186.76332944655124C279.25,186.76332944655124,279.25,121.90116245776784,357,121.90116245776784" stroke="url(#link-gradient-0-7-6)" stroke-width="44.21024042669808" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M201.5,233.15182430506843C279.25,233.15182430506843,279.25,188.28965731628503,357,188.28965731628503" stroke="url(#link-gradient-0-8-7)" stroke-width="48.566749290336304" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M201.5,259.81116118876537C279.25,259.81116118876537,279.25,234.94899419998205,357,234.94899419998205" stroke="url(#link-gradient-0-9-8)" stroke-width="4.7519244770576154" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M201.5,297.9028652815002C279.25,297.9028652815002,279.25,293.0406982927169,357,293.0406982927169" stroke="url(#link-gradient-0-10-9)" stroke-width="71.43148370841207" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path><path class="sankey-link" d="M201.5,343.24038706224485C279.25,343.24038706224485,279.25,358.37822007346153,357,358.37822007346153" stroke="url(#link-gradient-0-11-10)" stroke-width="19.24355985307712" style="transition: opacity 0.3s; opacity: 1; filter: none;"></path></g><g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 186.5,140.8621669887834 L 201.5,140.8621669887834 L 201.5,352.8621669887833 L 186.5,352.8621669887833 Z" fill="var(--color-success)" stroke="none"></path><text x="207.5" y="246.86216698878337" dy="-0.2em" text-anchor="start" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Cash Flow</tspan><tspan x="207.5" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh122,241.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 24,116
                  L 31,116
                  L 31,134.8672213087262
                  L 24,134.8672213087262
                  Q 16,134.8672213087262 16,126.86722130872619
                  L 16,124
                  Q 16,116 24,116 Z" fill="#16a34a" stroke="none"></path><text x="37" y="125.4336106543631" dy="-0.2em" text-anchor="start" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Side Hustle</tspan><tspan x="37" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh10,879.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 24,154.8672213087262
                  L 31,154.8672213087262
                  L 31,280.31455894503483
                  L 24,280.31455894503483
                  Q 16,280.31455894503483 16,272.31455894503483
                  L 16,162.8672213087262
                  Q 16,154.8672213087262 24,154.8672213087262 Z" fill="#15803d" stroke="none"></path><text x="37" y="217.5908901268805" dy="-0.2em" text-anchor="start" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Savings/allowance</tspan><tspan x="37" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh72,334.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 24,300.31455894503483
                  L 31,300.31455894503483
                  L 31,368
                  L 24,368
                  Q 16,368 16,360
                  L 16,308.31455894503483
                  Q 16,300.31455894503483 24,300.31455894503483 Z" fill="#737373" stroke="none"></path><text x="37" y="334.1572794725174" dy="-0.2em" text-anchor="start" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Transfers</tspan><tspan x="37" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh39,028.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 357,16.000000000000014
                  L 369.252902054139,16.000000000000014
                  Q 372,16.000000000000014 372,18.747097945861057
                  L 372,18.747097945861057
                  Q 372,21.4941958917221 369.252902054139,21.4941958917221
                  L 357,21.4941958917221 Z" fill="#db2777" stroke="none"></path><text x="351" y="18.747097945861057" dy="-0.2em" text-anchor="end" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Health</tspan><tspan x="351" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh3,168.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 357,41.4941958917221
                  L 367.6313511833182,41.4941958917221
                  Q 372,41.4941958917221 372,45.8628447084039
                  L 372,45.8628447084039
                  Q 372,50.231493525085696 367.6313511833182,50.231493525085696
                  L 357,50.231493525085696 Z" fill="#0891b2" stroke="none"></path><text x="351" y="45.8628447084039" dy="-0.2em" text-anchor="end" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Communication</tspan><tspan x="351" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh5,038.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 357,70.2314935250857
                  L 367.21772564033347,70.2314935250857
                  Q 372,70.2314935250857 372,75.01376788475224
                  L 372,75.01376788475224
                  Q 372,79.7960422444188 367.21772564033347,79.7960422444188
                  L 357,79.7960422444188 Z" fill="#facc15" stroke="none"></path><text x="351" y="75.01376788475224" dy="-0.2em" text-anchor="end" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Family Support</tspan><tspan x="351" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh5,515.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 357,99.7960422444188
                  L 364,99.7960422444188
                  Q 372,99.7960422444188 372,107.7960422444188
                  L 372,136.00628267111688
                  Q 372,144.00628267111688 364,144.00628267111688
                  L 357,144.00628267111688 Z" fill="#ef4444" stroke="none"></path><text x="351" y="121.90116245776784" dy="-0.2em" text-anchor="end" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Housing</tspan><tspan x="351" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh25,492.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 357,164.00628267111688
                  L 364,164.00628267111688
                  Q 372,164.00628267111688 372,172.00628267111688
                  L 372,204.57303196145324
                  Q 372,212.57303196145324 364,212.57303196145324
                  L 357,212.57303196145324 Z" fill="#f97316" stroke="none"></path><text x="351" y="188.28965731628506" dy="-0.2em" text-anchor="end" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Food &amp; Markets</tspan><tspan x="351" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh28,004.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 357,232.57303196145324
                  L 369.6240377614712,232.57303196145324
                  Q 372,232.57303196145324 372,234.94899419998205
                  L 372,234.94899419998205
                  Q 372,237.32495643851087 369.6240377614712,237.32495643851087
                  L 357,237.32495643851087 Z" fill="#2563eb" stroke="none"></path><text x="351" y="234.94899419998205" dy="-0.2em" text-anchor="end" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Transport</tspan><tspan x="351" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh2,740.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 357,257.32495643851087
                  L 364,257.32495643851087
                  Q 372,257.32495643851087 372,265.32495643851087
                  L 372,320.75644014692296
                  Q 372,328.75644014692296 364,328.75644014692296
                  L 357,328.75644014692296 Z" fill="#737373" stroke="none"></path><text x="351" y="293.0406982927169" dy="-0.2em" text-anchor="end" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Transfers</tspan><tspan x="351" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh41,188.00</tspan></tspan></text></g><g style="transition: opacity 0.3s; opacity: 1;"><path d="M 357,348.75644014692296
                  L 364,348.75644014692296
                  Q 372,348.75644014692296 372,356.75644014692296
                  L 372,360
                  Q 372,368 364,368
                  L 357,368 Z" fill="var(--color-success)" stroke="none"></path><text x="351" y="358.3782200734615" dy="-0.2em" text-anchor="end" class="text-xs font-medium text-primary fill-current select-none" style="cursor: default;"><tspan>Transfers</tspan><tspan x="351" dy="1.2em" class="font-mono text-secondary" style="font-size: 0.65rem;"><tspan>KSh11,096.00</tspan></tspan></text></g></g></svg></div>
    </div>
    <div class="space-y-2">
      <% @intro_prompts.each do |prompt| %>
        <div class="bg-container border border-tertiary rounded-2xl p-4 space-y-1">
          <p class="font-medium text-primary"><%= prompt[:title] %></p>
          <p class="text-sm text-secondary"><%= prompt[:description] %></p>
        </div>
        <div class="w-full h-96">
      <% end %>
    </div>
  </section>
</div>
